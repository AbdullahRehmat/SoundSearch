from scrapy import Spider
from scrapy.selector import Selector
from data.items import DataItem


class DataSpiderOne(Spider):
    name = "data"

    allowed_domains = [
        "www.shia.bs",
        "www.aboutatheism.net",
        "www.salafis.com",
        "www.theislamblog.com",
        "www.bidah.com",
        "www.asharis.com",
        "www.mutazilah.com",
        "www.islamagainstextremism.com",
        "www.takfiris.com",
        "www.ikhwanis.com",
        "www.barelwis.com",
        "www.nabahani.com",
        "www.islamjesus.ws",
        "www.ibntaymiyyah.com",
        "www.wahhabis.com",
        "www.aqidah.com",
        "www.dajjaal.com",
        "www.abovethethrone.com",
        "www.themadkhalis.com",
        "www.maturidis.com",
    ]

    start_urls = [
        "http://www.shia.bs/archives/2016/01/",
        "http://www.shia.bs/archives/2013/11/",
        "http://www.shia.bs/archives/2012/09/",
        "http://www.shia.bs/archives/2011/09/",
        "http://www.aboutatheism.net/archives/2013/11/index.cfm",
        "http://www.aboutatheism.net/archives/2013/10/index.cfm",
        "http://www.aboutatheism.net/archives/2014/12/index.cfm",
        "http://www.aboutatheism.net/archives/2014/05/index.cfm",
        "http://www.aboutatheism.net/archives/2014/04/index.cfm",
        "http://www.aboutatheism.net/archives/2016/02/index.cfm",
        "http://www.aboutatheism.net/archives/2017/02/index.cfm",
        "http://www.aboutatheism.net/archives/2018/12/index.cfm",
        "http://www.aboutatheism.net/archives/2018/11/index.cfm",
        "http://www.aboutatheism.net/archives/2018/10/index.cfm",
        "http://www.aboutatheism.net/archives/2018/01/index.cfm",
        "http://www.aboutatheism.net/archives/2019/07/index.cfm",
        "http://www.aboutatheism.net/archives/2019/06/index.cfm",
        "http://www.aboutatheism.net/archives/2019/05/index.cfm",
        "http://www.aboutatheism.net/archives/2019/04/index.cfm",
        "http://www.aboutatheism.net/archives/2019/03/index.cfm",
        "http://www.aboutatheism.net/archives/2019/02/index.cfm",
        "http://www.salafis.com/archives/2014/07/index.cfm",
        "http://www.salafis.com/archives/2014/04/index.cfm",
        "http://www.salafis.com/archives/2014/03/index.cfm",
        "http://www.salafis.com/archives/2013/09/index.cfm",
        "http://www.salafis.com/archives/2013/08/index.cfm",
        "http://www.salafis.com/archives/2013/04/index.cfm",
        "http://www.theislamblog.com/archives/2011/08/",
        "http://www.theislamblog.com/archives/2011/07/",
        "http://www.bidah.com/archives/2015/01/",
        "http://www.bidah.com/archives/2011/08/",
        "http://www.bidah.com/archives/2011/07/",
        "https://www.asharis.com/creed/archives/2020/01/",
        "https://www.asharis.com/creed/archives/2018/01/",
        "https://www.asharis.com/creed/archives/2017/12/",
        "https://www.asharis.com/creed/archives/2014/12/",
        "https://www.asharis.com/creed/archives/2013/11/",
        "https://www.asharis.com/creed/archives/2013/10/",
        "https://www.asharis.com/creed/archives/2013/09/",
        "https://www.asharis.com/creed/archives/2013/08/",
        "https://www.asharis.com/creed/archives/2013/07/",
        "https://www.asharis.com/creed/archives/2013/06/",
        "https://www.asharis.com/creed/archives/2011/10/",
        "https://www.asharis.com/creed/archives/2011/09/",
        "https://www.asharis.com/creed/archives/2011/08/",
        "https://www.asharis.com/creed/archives/2011/04/",
        "https://www.asharis.com/creed/archives/2011/01/",
        "https://www.asharis.com/creed/archives/2010/12/",
        "https://www.asharis.com/creed/archives/2010/11/",
        "https://www.asharis.com/creed/archives/2010/10/",
        "https://www.asharis.com/creed/archives/2010/09/",
        "https://www.asharis.com/creed/archives/2010/07/",
        "https://www.asharis.com/creed/archives/2010/06/",
        "https://www.asharis.com/creed/archives/2010/04/",
        "https://www.asharis.com/creed/archives/2010/02/",
        "https://www.asharis.com/creed/archives/2009/12/",
        "https://www.asharis.com/creed/archives/2009/11/",
        "https://www.asharis.com/creed/archives/2009/10/",
        "https://www.asharis.com/creed/archives/2009/09/",
        "https://www.asharis.com/creed/archives/2009/08/",
        "https://www.asharis.com/creed/archives/2009/07/",
        "https://www.asharis.com/creed/archives/2009/06/",
        "http://www.mutazilah.com/archives/2013/11/",
        "http://www.mutazilah.com/archives/2013/07/",
        "http://www.mutazilah.com/archives/2013/06/",
        "http://www.islamagainstextremism.com/archives/2019/12/",
        "http://www.islamagainstextremism.com/archives/2018/05/",
        "http://www.islamagainstextremism.com/archives/2017/11/",
        "http://www.islamagainstextremism.com/archives/2017/09/",
        "http://www.islamagainstextremism.com/archives/2017/08/",
        "http://www.islamagainstextremism.com/archives/2017/07/",
        "http://www.islamagainstextremism.com/archives/2017/06/",
        "http://www.islamagainstextremism.com/archives/2017/05/",
        "http://www.islamagainstextremism.com/archives/2017/03/",
        "http://www.islamagainstextremism.com/archives/2016/10/",
        "http://www.islamagainstextremism.com/archives/2016/08/",
        "http://www.islamagainstextremism.com/archives/2016/04/",
        "http://www.islamagainstextremism.com/archives/2016/03/",
        "http://www.islamagainstextremism.com/archives/2016/02/",
        "http://www.islamagainstextremism.com/archives/2016/01/",
        "http://www.islamagainstextremism.com/archives/2015/12/",
        "http://www.islamagainstextremism.com/archives/2015/11/",
        "http://www.islamagainstextremism.com/archives/2015/09/",
        "http://www.islamagainstextremism.com/archives/2015/06/",
        "http://www.islamagainstextremism.com/archives/2015/03/",
        "http://www.islamagainstextremism.com/archives/2015/03/",
        "http://www.islamagainstextremism.com/archives/2015/01/",
        "http://www.islamagainstextremism.com/archives/2014/09/",
        "http://www.islamagainstextremism.com/archives/2014/08/",
        "http://www.islamagainstextremism.com/archives/2014/07/",
        "http://www.islamagainstextremism.com/archives/2013/05/",
        "http://www.islamagainstextremism.com/archives/2013/04/",
        "http://www.islamagainstextremism.com/archives/2011/09/",
        "http://www.islamagainstextremism.com/archives/2011/08/",
        "http://www.islamagainstextremism.com/archives/2011/07/",
        "http://www.islamagainstextremism.com/archives/2010/01/",
        "http://www.islamagainstextremism.com/archives/2009/06/",
        "http://www.islamagainstextremism.com/archives/2009/03/",
        "http://www.islamagainstextremism.com/archives/2009/02/",
        "http://www.islamagainstextremism.com/archives/2009/01/",
        "http://www.islamagainstextremism.com/archives/2008/11/",
        "http://www.islamagainstextremism.com/archives/2008/10/",
        "https://www.takfiris.com/takfir/archives/2015/03/",
        "https://www.takfiris.com/takfir/archives/2014/08/",
        "https://www.takfiris.com/takfir/archives/2014/07/",
        "https://www.takfiris.com/takfir/archives/2014/06/",
        "https://www.takfiris.com/takfir/archives/2014/05/",
        "https://www.takfiris.com/takfir/archives/2014/03/",
        "https://www.takfiris.com/takfir/archives/2014/01/",
        "https://www.takfiris.com/takfir/archives/2013/07/",
        "https://www.takfiris.com/takfir/archives/2013/06/",
        "https://www.takfiris.com/takfir/archives/2012/05/",
        "https://www.takfiris.com/takfir/archives/2011/12/",
        "https://www.takfiris.com/takfir/archives/2011/01/",
        "https://www.takfiris.com/takfir/archives/2010/11/",
        "https://www.takfiris.com/takfir/archives/2010/03/",
        "https://www.takfiris.com/takfir/archives/2010/02/",
        "https://www.takfiris.com/takfir/archives/2010/01/",
        "https://www.takfiris.com/takfir/archives/2009/12/",
        "http://www.ikhwanis.com/archives/2014/09/index.cfm",
        "http://www.ikhwanis.com/archives/2013/10/index.cfm",
        "http://www.ikhwanis.com/archives/2013/09/index.cfm",
        "http://www.ikhwanis.com/archives/2013/08/index.cfm",
        "http://www.ikhwanis.com/archives/2013/07/index.cfm",
        "http://www.barelwis.com/archives/2012/01/",
        "http://www.nabahani.com/archives/2014/02/",
        "http://www.nabahani.com/archives/2012/04/",
        "http://www.islamjesus.ws/archives/2020/03/",
        "http://www.islamjesus.ws/archives/2020/02/",
        "http://www.islamjesus.ws/archives/2019/11/",
        "http://www.islamjesus.ws/archives/2019/06/",
        "http://www.islamjesus.ws/archives/2016/12/",
        "http://www.islamjesus.ws/archives/2014/12/",
        "http://www.islamjesus.ws/archives/2011/08/",
        "http://www.ibntaymiyyah.com/archives/2019/04/",
        "http://www.ibntaymiyyah.com/archives/2014/04/",
        "http://www.ibntaymiyyah.com/archives/2013/11/",
        "http://www.ibntaymiyyah.com/archives/2013/10/",
        "http://www.ibntaymiyyah.com/archives/2013/08/",
        "http://www.ibntaymiyyah.com/archives/2012/01/",
        "http://www.ibntaymiyyah.com/archives/2011/10/",
        "http://www.ibntaymiyyah.com/archives/2011/09/",
        "http://www.ibntaymiyyah.com/archives/2011/08/",
        "http://www.ibntaymiyyah.com/archives/2011/07/",
        "http://www.wahhabis.com/archives/2016/12/",
        "http://www.wahhabis.com/archives/2016/10/",
        "http://www.wahhabis.com/archives/2011/09/",
        "http://www.wahhabis.com/archives/2011/08/",
        "http://www.piousmuslim.com/archives/2014/08/index.cfm",
        "http://www.piousmuslim.com/archives/2014/03/index.cfm",
        "http://www.piousmuslim.com/archives/2013/11/index.cfm",
        "http://www.piousmuslim.com/archives/2013/10/index.cfm",
        "http://www.piousmuslim.com/archives/2013/09/index.cfm",
        "https://www.aqidah.com/creed/archives/2020/03/",
        "https://www.aqidah.com/creed/archives/2019/06/",
        "https://www.aqidah.com/creed/archives/2019/07/",
        "https://www.aqidah.com/creed/archives/2016/08/",
        "https://www.aqidah.com/creed/archives/2013/09/",
        "https://www.aqidah.com/creed/archives/2013/08/", # May have issues
        "https://www.aqidah.com/creed/archives/2012/11/",
        "https://www.tawhidfirst.com/monotheism/archives/2013/04/",
        "https://www.tawhidfirst.com/monotheism/archives/2013/07/",
        "https://www.tawhidfirst.com/monotheism/archives/2019/08/",
        "https://www.tawhidfirst.com/monotheism/archives/2020/03/",
        "https://www.dajjaal.com/liar/archives/2020/06/",
        "https://www.dajjaal.com/liar/archives/2012/11/",
        "https://www.abovethethrone.com/arsh/authors/AboveTheThrone.cfm",
        "https://www.themadkhalis.com/md/authors/Admin.cfm",
        "https://www.manhaj.com/manhaj/authors/Abu.Iyaad.cfm",
        "https://www.maturidis.com/maturidi/authors/Maturidis.Com.cfm",
    ]

    def parse(self, response):
        scrapedData = Selector(response).css('a.articleTitleListSmall')

        for data in scrapedData:
            item = DataItem()
            item['title'] = data.css('a.articleTitleListSmall::text').get(),
            item['url'] = data.css('a.articleTitleListSmall::attr(href)').get()
            yield item
